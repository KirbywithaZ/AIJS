<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIJS - Artificially Intelligent Javascript System</title>

    <script src="https://unpkg.com/brain.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <script src="https://unpkg.com/ml5@1.2.1/dist/ml5.min.js"></script>
    <script src="https://unpkg.com/compromise"></script>

    <style>
        body { background: #0a0a0a; color: #00ff41; font-family: 'Courier New', monospace; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        #aijs-container { width: 90%; max-width: 700px; height: 80vh; border: 2px solid #00ff41; display: flex; flex-direction: column; background: #000; box-shadow: 0 0 20px #004400; }
        #header { padding: 15px; border-bottom: 1px solid #00ff41; text-align: center; font-weight: bold; font-size: 1.2em; }
        #display { flex-grow: 1; overflow-y: auto; padding: 20px; font-size: 14px; scroll-behavior: smooth; }
        .input-area { display: flex; border-top: 1px solid #00ff41; background: #050505; }
        #user-input { flex-grow: 1; background: transparent; border: none; color: #fff; padding: 15px; outline: none; font-family: inherit; }
        #send-btn { background: #00ff41; color: #000; border: none; padding: 0 25px; cursor: pointer; font-weight: bold; }
        .bot-msg { color: #00ff41; margin-bottom: 15px; }
        .user-msg { color: #fff; margin-bottom: 15px; opacity: 0.8; }
    </style>
</head>
<body>

<div id="aijs-container">
    <div id="header">AIJS SYSTEM_v1.0</div>
    <div id="display">
        <div class="bot-msg">AIJS: Terminal Ready. Status: ONLINE</div>
    </div>
    <div class="input-area">
        <input type="text" id="user-input" placeholder="Enter command or message..." autofocus>
        <button id="send-btn">EXECUTE</button>
    </div>
</div>

<script>
    // 1. Initialize Brain.js (The Neural Network)
    const net = new brain.NeuralNetwork();
    
    // Train the network on simple "mood" patterns
    net.train([
        { input: { happy: 1, great: 1 }, output: { positive: 1 } },
        { input: { sad: 1, bad: 1, tired: 1 }, output: { negative: 1 } },
        { input: { hello: 1, hi: 1 }, output: { greeting: 1 } }
    ]);

    const display = document.getElementById('display');
    const input = document.getElementById('user-input');
    const btn = document.getElementById('send-btn');

    async function processAI() {
        const text = input.value.trim();
        if (!text) return;

        // Show User Message
        display.innerHTML += `<div class="user-msg">> ${text}</div>`;
        input.value = '';

        // 2. Use 'Compromise' for NLP (Named Entity Recognition)
        let doc = nlp(text);
        let hasName = doc.people().text();
        let isQuestion = doc.questions().found;

        // 3. Simple Brain.js Logic (Basic sentiment/pattern)
        const words = text.toLowerCase().split(' ');
        const inputObj = {};
        words.forEach(w => inputObj[w] = 1);
        const prediction = brain.likely(inputObj, net);

        // 4. Generate Response
        let response = "COMMAND NOT RECOGNIZED. ANALYZING...";

        if (hasName) {
            response = `ENTITY DETECTED: [${hasName}]. RECORDING DATA.`;
        } else if (prediction === 'greeting') {
            response = "GREETINGS. AIJS CORE IS ACTIVE.";
        } else if (prediction === 'positive') {
            response = "OPTIMISM DETECTED. SYSTEM STABILITY: 100%.";
        } else if (isQuestion) {
            response = "QUERY RECEIVED. SEARCHING ARCHIVES...";
        }

        // Output Bot Message
        setTimeout(() => {
            display.innerHTML += `<div class="bot-msg">AIJS: ${response}</div>`;
            display.scrollTop = display.scrollHeight;
        }, 500);
    }

    // Event Listeners
    btn.addEventListener('click', processAI);
    input.addEventListener('keypress', (e) => { if (e.key === 'Enter') processAI(); });
</script>

</body>
</html>
